"use strict";const showList=document.querySelector(".showlist"),searchButton=document.querySelector(".js-button"),showfav=document.querySelector(".showfav");let allShow=[],favoriteShow=[];function getDataApi(){const e=document.querySelector(".js-input").value;fetch("http://api.tvmaze.com/search/shows?q="+e).then(e=>e.json()).then(e=>{allShow=e,renderShow()})}function renderShow(){let e="",t="";for(let o=0;o<allShow.length;o++)e+="<li class = item>",null!==allShow[o].show.image?(console.log("Soy definida"),t=allShow[o].show.image.medium):(console.log("Soy indefinida"),t="./assets/images/photodefault.png"),e+='<img class="js-imghtml" src='+t+' alt="Imagen Serie">',e+=allShow[o].show.name,e+="</li>";showList.innerHTML=e;const o=document.querySelectorAll(".item");for(const e of o)e.addEventListener("click",handleFav),console.log(o.length)}function handleFav(e){const t=e.target.innerHTML;favoriteShow.push(t),renderFav()}function renderFav(){let e="";for(let t=0;t<favoriteShow.length;t++)e+="<li class = lifav>",e+=favoriteShow[t],e+="</li>";showfav.innerHTML=e,setLocalStorarage(e)}function renderFavlocal(){let e=getLocalStorage();showfav.innerHTML=e}function getLocalStorage(){return JSON.parse(localStorage.getItem("favorite"))}function setLocalStorarage(e){localStorage.setItem("favorite",JSON.stringify(e))}searchButton.addEventListener("click",getDataApi),renderFavlocal();